/**
 * BenchBackground Styles
 * OSB/chipboard texture for the spatial canvas workbench
 */

/* ========================================
   CSS CUSTOM PROPERTIES (for theming)
   ======================================== */

:root {
  /* Color mode (calm theme) */
  --bench-bg-color: #f4e2c4;
  --bench-bg-image: url('/osb-pattern.svg');
  --bench-bg-size: 160px 160px;

  /* Monochrome mode (default) */
  --bench-mono-bg-color: #f5f5f5;
  --bench-mono-splinter-1: rgba(0, 0, 0, 0.06);
  --bench-mono-splinter-2: rgba(0, 0, 0, 0.04);
}

/* ========================================
   BASE STYLES
   ======================================== */

.bench-background {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: -1;
  transition: opacity 150ms ease-out;
  opacity: var(--bench-texture-opacity, 1);
}

/* ========================================
   OSB MODE - Wood chip texture
   ======================================== */

/* Color OSB (calm theme) - uses SVG pattern */
.bench-background--osb.bench-background--color {
  background-color: var(--bench-bg-color);
  background-image: var(--bench-bg-image);
  background-size: var(--bench-bg-size);
  background-repeat: repeat;
}

/* Monochrome OSB (DC-1 safe) - CSS-only fibrous texture */
.bench-background--osb.bench-background--mono {
  background-color: var(--bench-mono-bg-color);
  background-image:
    /* Long splinters at 18deg angle */
    repeating-linear-gradient(
      18deg,
      var(--bench-mono-splinter-1) 0px,
      var(--bench-mono-splinter-1) 1px,
      transparent 1px,
      transparent 7px
    ),
    /* Cross splinters at -13deg angle */
    repeating-linear-gradient(
      -13deg,
      var(--bench-mono-splinter-2) 0px,
      var(--bench-mono-splinter-2) 1px,
      transparent 1px,
      transparent 9px
    );
  background-size: var(--bench-bg-size);
}

/* ========================================
   GRID MODE - Dot grid (Kinopio style)
   ======================================== */

.bench-background--grid.bench-background--color {
  background-color: var(--bench-bg-color);
  background-image:
    radial-gradient(circle, rgba(0, 0, 0, 0.06) 1px, transparent 1px);
  background-size: 24px 24px;
}

.bench-background--grid.bench-background--mono {
  background-color: #ffffff;
  background-image:
    radial-gradient(circle, rgba(0, 0, 0, 0.08) 1px, transparent 1px);
  background-size: 24px 24px;
}

/* ========================================
   PLAIN MODE - Solid color only
   ======================================== */

.bench-background--plain.bench-background--color {
  background-color: var(--bench-bg-color);
}

.bench-background--plain.bench-background--mono {
  background-color: #ffffff;
}

/* ========================================
   HIGH CONTRAST / ACCESSIBILITY
   ======================================== */

@media (prefers-contrast: high) {
  /* Flatten texture for maximum legibility */
  .bench-background--osb,
  .bench-background--grid {
    background-image: none !important;
    background-color: #ffffff !important;
  }
}

/* Reduced motion - disable opacity transitions */
@media (prefers-reduced-motion: reduce) {
  .bench-background {
    transition: none;
  }
}

/* ========================================
   PRINT STYLES
   ======================================== */

@media print {
  .bench-background {
    background: white !important;
    background-image: none !important;
  }
}
